:root{
--bg:#0f1724; /* dark base */
--card:#0b1220;
--muted:#9aa4b2;
--accent: #2b7bd3;
--glass: rgba(255,255,255,0.03);
}
*{box-sizing:border-box}
html,body{height:100%;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,'Helvetica Neue',Arial;color:#e6eef6;background:#0b1220;margin:0}
.app-header{display:flex;align-items:center;justify-content:space-between;padding:12px 18px;background:linear-gradient(90deg, rgba(255,255,255,0.02), transparent);backdrop-filter: blur(6px);border-bottom:1px solid rgba(255,255,255,0.02)}
.brand{display:flex;align-items:center;gap:12px}
.logo{width:44px;height:44px}
.brand-text .title{font-weight:700;letter-spacing:1px}
.brand-text .tag{font-size:12px;color:var(--muted)}
.controls{display:flex;align-items:center;gap:8px}
.controls input{padding:8px 10px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:inherit}
.btn-group button{padding:8px 10px;border-radius:8px;border:0;background:var(--glass);cursor:pointer}
#map-wrap{display:flex;gap:12px;padding:14px}
#treemap-svg{width:100%;height:70vh;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent);box-shadow:0 8px 24px rgba(2,6,23,0.6)}
.legend{position:fixed;right:14px;top:88px;padding:10px;background:rgba(0,0,0,0.4);border-radius:10px}
.legend .item{display:flex;gap:8px;align-items:center;padding:4px}
.legend .swatch{width:14px;height:14px;border-radius:4px}
.node-rect{cursor:pointer;stroke:#071023;stroke-width:1px}
.node-label{pointer-events:none;font-size:12px}
.badge{position:absolute;background:#0006;padding:4px 6px;border-radius:999px;color:#fff;font-size:11px}
.breadcrumb{padding:8px 18px;color:var(--muted)}
.modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:linear-gradient(180deg, rgba(2,6,23,0.6), rgba(2,6,23,0.8));}
.modal[aria-hidden="false"]{display:flex}
.modal-content{background:linear-gradient(180deg,#061021,#081427);border-radius:12px;padding:18px;width:min(820px,94%);box-shadow:0 20px 60px rgba(2,6,23,0.8)}
.modal-header{display:flex;align-items:center;gap:12px}
.modal-logo{width:36px}
.modal-body p{color:var(--muted)}
.onboard{position:fixed;right:18px;bottom:18px;background:linear-gradient(180deg,#081427,#061021);padding:12px;border-radius:10px}
.onboard-inner h3{margin:0 0 6px 0}


/* compact mode */
@media(max-width:720px){#treemap-svg{height:64vh}.controls input{width:120px}}


/* accessible focus states */
button:focus, input:focus {outline:2px solid rgba(43,123,211,0.6);outline-offset:2px}
